@using System.Globalization
@{
    ViewBag.Title = "Home Page";
    Layout = "../Shared/_Layout.cshtml";
}
<script src="~/Scripts/Custom/Index.js"></script>
@*<script src="~/Scripts/countries.js"></script>*@
<style>
    .morris-hover.morris-default-style {
        background-color: #ffffff !important;
        border: solid 2px #e6e6e6;
    }
</style>
<ul class="breadcrumb breadcrumb-page">
    <div class="breadcrumb-label text-light-gray">You are here: </div>
    <li><a href="#">Home</a></li>
    <li class="active"><a href="#">Technical Stats</a></li>
</ul>
<div class="page-header">

    <div class="row">
        <!-- Page header, center on small screens -->
        <h1 class="col-xs-12 col-sm-4 text-center text-left-sm"><i class="fa fa-dashboard page-header-icon"></i>&nbsp;&nbsp;Technical Stats</h1>

        <div class="col-xs-12 col-sm-8">
            <div class="row">
                <hr class="visible-xs no-grid-gutter-h">
                <div class="pull-right col-xs-12 col-sm-auto">
                    <div class="col-lg-7">
                        @Html.DropDownList("month", Enumerable.Range(1, 12).Select(i => new SelectListItem { Value = i.ToString(CultureInfo.InvariantCulture), Text = System.Globalization.CultureInfo.InvariantCulture.DateTimeFormat.GetMonthName(i) }), "-- Month --", new { @class = " form-control " })
                    </div>
                    <div class="col-lg-5">
                        @Html.DropDownList("year", Enumerable.Range(2000, 100).Select(i => new SelectListItem { Value = i.ToString(CultureInfo.InvariantCulture), Text = i.ToString(CultureInfo.InvariantCulture) }), "-- Year --", new { @class = "form-control " })
                    </div>
                </div>
                    <!-- Margin -->
                    <div class="visible-xs clearfix form-group-margin"></div>

                    <!-- Search field -->
                    @* <form action="" class="pull-right col-xs-12 col-sm-6">
                <div class="input-group no-margin">
                    <span class="input-group-addon" style="background: #fff; background: rgba(0, 0, 0, .05); border: none;"><i class="fa fa-search"></i></span>
                    <input type="text" placeholder="Search..." class="form-control no-padding-hr" style="background: #fff; background: rgba(0, 0, 0, .05); border: none;">
                </div>
            </form>*@
                </div>
        </div>
    </div>
</div> <!-- / .page-header -->
<div class="col-sm-12 text-center">
    @*<label class="label label-success">Line Chart</label>*@
    <div id="line-chart"></div>
</div>
<script type="text/javascript">
    $(function () {
        var date = new Date();

        $("#month").val(date.getMonth() + 1);
        $("#year").val(date.getFullYear());

        $.ajax({
            type: "GET",
            datatype: "application/json",
            @*url:"@(Url.Action("GetMyRatingStats", "Home"))",*@
            url: "@(Url.Action("GetRatingsByMonth", "Home"))",
            data: { month: $('#month').val(), year: $('#year').val() },
            success: function (data) {
                $('#line-chart').empty();
                BindLineChart(data);
            },
            error: function (data) {

            }
        });
    });
</script>